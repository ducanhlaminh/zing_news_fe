<table>
      <tr>
            <th>
                  <span>ID</span>
                  <div [ngSwitch]="filterCurr.id">
                        <fa-icon
                              [icon]="faCaretDown"
                              *ngSwitchCase="'1'"
                        ></fa-icon>
                        <fa-icon
                              [icon]="faCaretUp"
                              *ngSwitchCase="'2'"
                        ></fa-icon>
                  </div>
            </th>
            <th>
                  <div class="header-name" (click)="filterFn('title')">
                        <span>Tên bài viết</span>
                        <div [ngSwitch]="filterCurr.title">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-cate">
                        <span>Danh mục</span>
                  </div>
            </th>
            <th>
                  <div class="header-view" (click)="filterFn('views')">
                        <span>Views</span>
                        <div [ngSwitch]="filterCurr.views">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-slug" (click)="filterFn('slug')">
                        <span>Đường dẫn</span>
                        <div [ngSwitch]="filterCurr.slug">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-slug" (click)="filterFn('status')">
                        <span>Trạng thái</span>
                        <div [ngSwitch]="filterCurr.status">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div
                        class="header-date-published"
                        (click)="filterFn('publishAt')"
                  >
                        <span>Ngày tạo</span>
                        <div [ngSwitch]="filterCurr.publishAt">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div
                        class="header-date-published"
                        (click)="filterFn('publishAt')"
                  >
                        <span>Ngày cập nhật</span>
                        <div [ngSwitch]="filterCurr.publishAt">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th></th>
      </tr>
      <ng-container *ngFor="let item of articles; let i = index">
            <tr class="" [ngClass]="{ selected: item.opened }">
                  <td class="item-stt">
                        <div class="icon">
                              {{ item.id }}
                        </div>
                  </td>
                  <td class="item-name">
                        <span>{{ item?.title }}</span>
                  </td>
                  <td class="item-cate">
                        <span>{{
                              item?.new_articles_categories[0]?.category?.name
                        }}</span>
                  </td>
                  <td class="item-view">
                        <span>{{ item.views }}</span>
                  </td>
                  <td class="item-slug">
                        <span>{{ item.slug }}</span>
                  </td>
                  <td class="item-status">
                        <span
                              [class]="
                                    item.status === 1
                                          ? 'success'
                                          : item.status === 0
                                          ? 'pending'
                                          : ''
                              "
                              >{{
                                    item.status === 1
                                          ? "Xuất bản"
                                          : item.status === 0
                                          ? "Đang chờ"
                                          : "Hủy Bỏ"
                              }}</span
                        >
                  </td>
                  <td class="item-date-published">
                        <span>{{ item.createdAt | datePipe }}</span>
                  </td>
                  <td class="item-date-created">
                        <span>{{ item.createdAt | datePipe }}</span>
                  </td>
                  <td class="item-edit">
                        <button
                              mat-icon-button
                              [matMenuTriggerFor]="menu"
                              aria-label="Example icon-button with a menu"
                        >
                              <fa-icon [icon]="faEllipsisVertical"></fa-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                              <button mat-menu-item>
                                    <span>Xóa</span>
                              </button>
                              <button mat-menu-item (click)="openDialog(item)">
                                    <span>Cập nhật</span>
                              </button>
                              <button mat-menu-item>
                                    <span>Đi tới trang chi tiết</span>
                              </button>
                        </mat-menu>
                  </td>
            </tr>
      </ng-container>
</table>
<mat-paginator
      #paginator
      class="demo-paginator"
      aria-label="Select page"
      [length]="length"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      (page)="handlePageEvent($event)"
>
</mat-paginator>
<div class="layout">
      <div class="layout-header">
            <h2>Xét bài viết nổi bật <small>( Danh mục )</small></h2>
            <button
                  mat-mini-fab
                  color="primary"
                  aria-label="Example icon button with a home icon"
                  (click)="show.hotCate = !show.hotCate"
            >
                  <fa-icon [icon]="show.hotCate ? faXmark : faEdit"></fa-icon>
            </button>
      </div>

      <div class="layout-content" *ngIf="show.hotCate">
            <div class="form">
                  <form
                        [formGroup]="myForm2"
                        (submit)="createHotCateArticles()"
                  >
                        <mat-form-field class="example-full-width input">
                              <mat-label>Tên danh mục</mat-label>
                              <mat-select
                                    (selectionChange)="onChangeCate($event)"
                                    formControlName="category"
                              >
                                    <mat-option
                                          [value]="item"
                                          *ngFor="let item of optionCategories"
                                    >
                                          {{ item.name }}
                                    </mat-option>
                              </mat-select>
                        </mat-form-field>
                        <mat-form-field class="example-full-width input">
                              <mat-label>Tên bài viết</mat-label>
                              <input
                                    type="text"
                                    matInput
                                    formControlName="article"
                                    [matAutocomplete]="auto"
                              />
                              <mat-error *ngIf="!myForm2.get('article')?.valid"
                                    >You must enter a value</mat-error
                              >
                              <mat-autocomplete
                                    #auto="matAutocomplete"
                                    [displayWith]="getOption2Text"
                              >
                                    <mat-option
                                          *ngFor="let item of option2"
                                          [value]="item"
                                    >
                                          {{ item?.new_article.title }}
                                    </mat-option>
                              </mat-autocomplete>
                        </mat-form-field>

                        <mat-form-field class="example-full-width input">
                              <mat-label
                                    >Vị trí muốn đặt trong bộ cục</mat-label
                              >
                              <input
                                    type="number"
                                    matInput
                                    formControlName="position"
                              />
                              <mat-error *ngIf="!myForm.get('position')?.valid"
                                    >You must enter a value</mat-error
                              >
                        </mat-form-field>
                        <div
                              class="groupBtn"
                              *ngIf="updateHotCate; else updateBtnCate"
                        >
                              <button
                                    mat-raised-button
                                    color="primary"
                                    type="submit"
                              >
                                    Xác nhận
                              </button>
                        </div>
                  </form>
                  <table>
                        <tr>
                              <th>Vị trí</th>
                              <th>Tên bài viết</th>
                              <th></th>
                        </tr>
                        <tr
                              *ngFor="
                                    let item of listHotCateArticles?.new_articles_hot_categories;
                                    index as idx
                              "
                              class="item-hot-articles"
                        >
                              <td>
                                    {{ item.position }}
                              </td>
                              <td>
                                    {{ item?.new_article?.title }}
                              </td>
                              <td>
                                    <button
                                          mat-icon-button
                                          [matMenuTriggerFor]="menu"
                                          aria-label="Example icon-button with a menu"
                                    >
                                          <fa-icon
                                                [icon]="faEllipsisVertical"
                                          ></fa-icon>
                                    </button>
                                    <mat-menu #menu="matMenu">
                                          <button
                                                mat-menu-item
                                                (click)="deleteHotCate(item)"
                                          >
                                                <span>Xóa</span>
                                          </button>
                                          <button
                                                mat-menu-item
                                                (click)="updateItem2(item)"
                                          >
                                                <span>Cập nhật</span>
                                          </button>
                                    </mat-menu>
                              </td>
                        </tr>
                  </table>
            </div>
            <div class="img-example">
                  <div class="example">
                        <h2>Vị trí bố cục</h2>
                        <br />
                        <small
                              >( Vui lòng chọn 1 số trong layout tin nổi bật sau
                              )</small
                        >
                        <img
                              src="../../../../../../../assets/Screenshot 2023-07-17 002523.png"
                              alt=""
                        />
                  </div>
            </div>
      </div>
</div>
<div class="layout">
      <div class="layout-header">
            <h2>Xét bài viết nổi bật <small>( Trang chủ )</small></h2>
            <button
                  mat-mini-fab
                  color="primary"
                  aria-label="Example icon button with a home icon"
                  (click)="show.hotMain = !show.hotMain"
            >
                  <fa-icon [icon]="show.hotCate ? faXmark : faEdit"></fa-icon>
            </button>
      </div>
      <div class="layout-content" *ngIf="show.hotMain">
            <div class="form">
                  <form
                        action=""
                        [formGroup]="myForm"
                        (submit)="createHotArticle()"
                  >
                        <mat-form-field class="example-full-width input">
                              <mat-label>Tên bài viết</mat-label>
                              <input
                                    type="text"
                                    matInput
                                    formControlName="nameArticle"
                                    [matAutocomplete]="auto1"
                              />
                              <mat-error
                                    *ngIf="!myForm.get('nameArticle')?.valid"
                                    >You must enter a value</mat-error
                              >
                              <mat-autocomplete
                                    #auto1="matAutocomplete"
                                    [displayWith]="getOptionText"
                              >
                                    <mat-option
                                          *ngFor="let item of option"
                                          [value]="item"
                                    >
                                          {{ item?.title }}
                                    </mat-option>
                              </mat-autocomplete>
                        </mat-form-field>
                        <mat-form-field class="example-full-width input">
                              <mat-label
                                    >Vị trí muốn đặt trong bộ cục</mat-label
                              >
                              <input
                                    type="number"
                                    matInput
                                    formControlName="position"
                              />
                              <mat-error *ngIf="!myForm.get('position')?.valid"
                                    >You must enter a value</mat-error
                              >
                        </mat-form-field>
                        <div
                              class="groupBtn"
                              *ngIf="update; else updateBtnMain"
                        >
                              <button
                                    mat-raised-button
                                    color="primary"
                                    type="submit"
                              >
                                    Xác nhận
                              </button>
                        </div>
                  </form>
                  <table>
                        <tr>
                              <th>Vị trí</th>
                              <th>Tên bài viết</th>
                              <th></th>
                        </tr>
                        <tr
                              *ngFor="
                                    let item of listHotArticles.hot_news
                                          ?.hot_main;
                                    index as idx
                              "
                              class="item-hot-articles"
                        >
                              <td>
                                    {{ item.position }}
                              </td>
                              <td>
                                    {{ item?.new_article?.title }}
                              </td>
                              <td>
                                    <button
                                          mat-icon-button
                                          [matMenuTriggerFor]="menu"
                                          aria-label="Example icon-button with a menu"
                                    >
                                          <fa-icon
                                                [icon]="faEllipsisVertical"
                                          ></fa-icon>
                                    </button>
                                    <mat-menu #menu="matMenu">
                                          <button
                                                mat-menu-item
                                                (click)="
                                                      deleteHotMain(
                                                            item.article_id,
                                                            item.position
                                                      )
                                                "
                                          >
                                                <span>Xóa</span>
                                          </button>
                                          <button
                                                mat-menu-item
                                                (click)="updateItem(item)"
                                          >
                                                <span>Cập nhật</span>
                                          </button>
                                    </mat-menu>
                              </td>
                        </tr>
                  </table>
            </div>
            <div class="img-example">
                  <div class="example">
                        <h2>Vị trí bố cục</h2>
                        <br />
                        <small
                              >( Vui lòng chọn 1 số trong layout tin nổi bật sau
                              )</small
                        >
                        <img
                              src="../../../../../../../assets/Screenshot 2023-07-17 002523.png"
                              alt=""
                        />
                  </div>
            </div>
      </div>
</div>

<ng-template #updateBtnMain>
      <div class="groupBtn">
            <button mat-raised-button color="primary" (click)="updateHot()">
                  Cập nhật
            </button>
            <button mat-raised-button color="primary" (click)="cancel()">
                  Hủy bỏ
            </button>
      </div>
</ng-template>
<ng-template #updateBtnCate>
      <div class="groupBtn">
            <button
                  mat-raised-button
                  color="primary"
                  (click)="updateHotCateArticle()"
            >
                  Cập nhật
            </button>
            <button mat-raised-button color="primary" (click)="cancel2()">
                  Hủy bỏ
            </button>
      </div>
</ng-template>
