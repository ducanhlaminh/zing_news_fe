<table>
      <tr>
            <th><div class="header-stt"></div></th>
            <th>
                  <div class="header-name" (click)="filterFn('title')">
                        <span>Tên danh mục</span>
                        <div [ngSwitch]="filterCurr.title">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-cate" (click)="filterFn('category_id')">
                        <span>Số lượng bài viết</span>
                        <div [ngSwitch]="filterCurr.category_id">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-view" (click)="filterFn('views')">
                        <span>Số danh mục con</span>
                        <div [ngSwitch]="filterCurr.views">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-slug" (click)="filterFn('slug')">
                        <span>Đường dẫn</span>
                        <div [ngSwitch]="filterCurr.slug">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div class="header-slug" (click)="filterFn('slug')">
                        <span>Trạng thái</span>
                        <div [ngSwitch]="filterCurr.slug">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div
                        class="header-date-published"
                        (click)="filterFn('publishAt')"
                  >
                        <span>Ngày tạo</span>
                        <div [ngSwitch]="filterCurr.publishAt">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th>
                  <div
                        class="header-date-published"
                        (click)="filterFn('publishAt')"
                  >
                        <span>Ngày cập nhật</span>
                        <div [ngSwitch]="filterCurr.publishAt">
                              <fa-icon
                                    [icon]="faCaretDown"
                                    *ngSwitchCase="'1'"
                              ></fa-icon>
                              <fa-icon
                                    [icon]="faCaretUp"
                                    *ngSwitchCase="'2'"
                              ></fa-icon>
                        </div>
                  </div>
            </th>
            <th></th>
      </tr>
      <ng-container *ngFor="let item of categories; let i = index">
            <tr class="" [ngClass]="{ selected: item.opened }">
                  <td class="item-stt" (click)="log(i)">
                        <div class="icon">
                              <fa-icon [icon]="faAngleUp"></fa-icon>
                        </div>
                  </td>
                  <td class="item-name">
                        <span>{{ item.name }}</span>
                  </td>
                  <td class="item-cate">
                        <span>{{ item?.articles?.length }}</span>
                  </td>
                  <td class="item-view">
                        <span>{{ item.childCategories.length }}</span>
                  </td>
                  <td class="item-slug">
                        <span>{{ item.slug }}</span>
                  </td>
                  <td class="item-status">
                        <span class="pending">Đang chờ xét duyệt</span>
                  </td>
                  <td class="item-date-published">
                        <span>{{ item.createdAt | datePipe }}</span>
                  </td>
                  <td class="item-date-created">
                        <span>{{ item.createdAt | datePipe }}</span>
                  </td>
                  <td class="item-edit">
                        <button
                              mat-icon-button
                              [matMenuTriggerFor]="menu"
                              aria-label="Example icon-button with a menu"
                        >
                              <fa-icon [icon]="faEllipsisVertical"></fa-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                              <button mat-menu-item (click)="openDialog(item)">
                                    <span>Xóa</span>
                              </button>
                              <button mat-menu-item>
                                    <span>Sửa</span>
                              </button>
                        </mat-menu>
                  </td>
            </tr>
            <ng-container *ngIf="item.opened">
                  <tr
                        *ngFor="let sub_item of item.childCategories"
                        class="sub-item"
                  >
                        <td></td>
                        <td>
                              <span>{{ sub_item.name }}</span>
                        </td>
                        <td>
                              <span>{{ sub_item.articles?.length }}</span>
                        </td>
                        <td></td>
                        <td>
                              <span>{{ sub_item.slug }}</span>
                        </td>
                        <td><span class="success">Xuất bản</span></td>
                        <td>
                              <span>{{ sub_item.createdAt | datePipe }}</span>
                        </td>
                        <td>
                              <span>{{ sub_item.createdAt | datePipe }}</span>
                        </td>
                        <td>
                              <button
                                    mat-icon-button
                                    [matMenuTriggerFor]="menu"
                                    aria-label="Example icon-button with a menu"
                              >
                                    <fa-icon
                                          [icon]="faEllipsisVertical"
                                    ></fa-icon>
                              </button>
                              <mat-menu #menu="matMenu">
                                    <button mat-menu-item>
                                          <span>Xuất bản</span>
                                    </button>
                                    <button
                                          mat-menu-item
                                          (click)="openDialog(sub_item)"
                                    >
                                          <span>Xóa</span>
                                    </button>
                                    <button mat-menu-item>
                                          <span>Sửa</span>
                                    </button>
                              </mat-menu>
                        </td>
                  </tr>
            </ng-container>
      </ng-container>
</table>
<mat-paginator
      #paginator
      class="demo-paginator"
      aria-label="Select page"
      [length]="CategoryService.length"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      (page)="handlePageEvent($event)"
>
</mat-paginator>
<div class="layout-edit-cateogries">
      <p class="title">
            <b>Chỉnh vị trí của danh mục trên thanh điều hướng ( Header )</b>
      </p>
      <div cdkDropListGroup>
            <div class="example-container">
                  <h4>Danh sách danh mục :</h4>
                  <div
                        cdkDropList
                        [cdkDropListData]="categorySort"
                        class="example-list-1"
                        (cdkDropListDropped)="drop($event)"
                        cdkDropListOrientation="horizontal"
                  >
                        <div
                              class="example-box"
                              *ngFor="let item of categorySort"
                              cdkDrag
                        >
                              {{ item.name }}
                        </div>
                  </div>
            </div>

            <div class="example-container">
                  <div
                        cdkDropList
                        [cdkDropListData]="done"
                        class="example-list"
                        (cdkDropListDropped)="drop($event)"
                        cdkDropListOrientation="horizontal"
                  >
                        <div class="header">
                              <div class="logo">
                                    <p class="top-header">
                                          TẠP CHÍ TRI THỨC TRỰC TUYẾN
                                    </p>
                                    <img
                                          src="https://static-znews.zingcdn.me/images/logo-zing-home.svg"
                                          alt=""
                                          class="header_logo"
                                    />
                              </div>
                              <div class="categories">
                                    <ng-container
                                          *ngIf="done.length !== 0; else empty"
                                    >
                                          <div
                                                class="example-box"
                                                *ngFor="let item of done"
                                                cdkDrag
                                          >
                                                {{ item.name }}
                                          </div>
                                    </ng-container>
                              </div>
                              <div class="right_header">
                                    <div class="avatar" mat-button>
                                          <div class="btnSignIn">
                                                <button
                                                      mat-raised-button
                                                      color="primary"
                                                      (click)="comfirmCates()"
                                                >
                                                      Xác nhận
                                                </button>
                                          </div>
                                    </div>
                              </div>
                        </div>
                  </div>
            </div>
      </div>
</div>

<ng-template #empty>
      <div class="empty">
            <small>* Vui lòng kéo danh mục vào đây</small>
      </div>
</ng-template>
